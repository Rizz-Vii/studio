# Testing Directory Structure

**Last Updated**: July 21, 2025  
**Status**: âœ… **Recently Refactored**

This directory contains all testing-related components for RankPilot (Studio), organized for maximum clarity and efficiency. The test suite underwent major refactoring in July 2025 to improve maintainability and reliability.

## ğŸ“ Directory Structure

```text
testing/
â”œâ”€â”€ configs/           # Playwright configuration files
â”œâ”€â”€ specs/             # Test specifications and test files
â”‚   â””â”€â”€ main/         # Main test suite
â”œâ”€â”€ snapshots/         # Visual regression test snapshots
â”œâ”€â”€ reports/          # Test execution reports
â”œâ”€â”€ results/          # Test execution results
â””â”€â”€ utils/            # Testing utilities and helpers
```

**Note**: Main test files are currently located in the root `/tests/` directory and include recent refactoring improvements.

## ğŸ”§ Configuration Files (`configs/`)

- `playwright.config.ts` - Main Playwright configuration
- `playwright.config.auth.ts` - Authentication-specific test configuration
- `playwright.config.base.ts` - Base configuration shared across environments
- `playwright.config.ci.ts` - CI/CD pipeline configuration
- `playwright.config.dashboard.ts` - Dashboard testing configuration
- `playwright.config.local.ts` - Local development testing configuration
- `playwright.config.simple.ts` - Simplified configuration for basic tests
- `test.config.ts` - General test configuration

## ğŸ§ª Test Specifications (`specs/main/`)

The main test suite contains:

- **Authentication Tests:** `auth-*.spec.ts`
- **Feature Tests:** `features/`
- **Performance Tests:** `performance/`
- **Visual Tests:** `visual/`
- **API Tests:** `api/`
- **Accessibility Tests:** `accessibility/`
- **Mobile Tests:** `mobile/`

## ğŸ“Š Reports & Results

- **Reports (`reports/`):** HTML test reports generated by Playwright
- **Results (`results/`):** Raw test execution results and artifacts
- **Snapshots (`snapshots/`):** Visual regression test reference images

## ğŸš€ Usage

### Running Tests

```bash
# Run all tests with main config
npm run test

# Run tests locally
npm run test:local

# Run simple tests for development
npm run test:local:simple

# Run tests with UI
npm run test:ui

# Run performance tests
npm run test:performance

# Run visual tests
npm run test:visual
```

### Development Testing

```bash
# Run tests in headed mode (with browser UI)
npm run test:headed

# Debug tests
npm run test:local:debug

# Update visual snapshots
npm run test:update-snapshots
```

### Production Testing

```bash
# Run tests against production environment
npm run test:prod
```

## ğŸ”„ Recent Refactoring (July 2025)

### Major Test File Updates

- **Quality Tests**:
  - `tests/quality/seo.spec.ts` - Simplified and optimized SEO testing
  - `tests/quality/visual-regression.spec.ts` - Migrated to Playwright native visual tools

- **Integration Tests**:
  - `tests/integration/api.spec.ts` - Streamlined authentication and test organization

- **E2E Tests**:
  - `tests/e2e/dashboard.spec.ts` - Complete overhaul with modern patterns

### Key Improvements

1. **Authentication Standardization**: Created `loginAndGoToDashboard` helper for consistent login flows
2. **Data-Driven Testing**: Implemented data-driven approach for navigation and functionality tests
3. **Visual Testing Enhancement**: Migrated to Playwright's built-in visual comparison tools
4. **Code Organization**: Structured tests into logical describe blocks for better maintainability
5. **Error Handling**: Improved debugging capabilities and error reporting

## ğŸ”„ Migration Notes

This organized structure replaces the previous scattered testing files:

- **Old:** Multiple `playwright.config.*` files in root directory
- **New:** All configs consolidated in `testing/configs/`

- **Old:** `tests/` directory in root
- **New:** `testing/specs/main/` for better organization

- **Old:** `test-results/`, `test-snapshots/`, `playwright-report/` in root
- **New:** Organized under `testing/` with clear naming

## ğŸ›  Maintenance

- **Configuration changes:** Update files in `testing/configs/`
- **New test suites:** Add under `testing/specs/`
- **Visual tests:** Snapshots automatically managed in `testing/snapshots/`
- **CI/CD:** Uses `testing/configs/playwright.config.ci.ts`

## ğŸ“ Best Practices

1. **Configuration:** Use appropriate config file for your testing scenario
2. **Organization:** Group related tests in subdirectories under `specs/main/`
3. **Naming:** Use descriptive names for test files (e.g., `feature-name.spec.ts`)
4. **Visual Tests:** Keep snapshots organized and updated
5. **Performance:** Use dedicated performance test configuration for accurate results

---

For more information, see the main project documentation in `/docs/testing/`.
